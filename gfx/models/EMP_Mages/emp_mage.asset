animation = {
    name = "infantry_idle_anim"
    file = ""
}

entity = {
    clone = "infantry_rifle_entity"
    name = "EMP_mage_entity"
    pdxmesh = "emp_mage_mesh"

    attach = { name = "rifle1" Right_Hand_node = "EMP_mage_weapon_rifle_right_entity" }
    attach = { name = "rifle2" Left_Hand_node = "EMP_mage_weapon_rifle_left_entity" }
    attach = { name = "rifle3" mid_back_node = "EMP_mage_weapon_rifle_long_idle_entity" }
    attach = { name = "rifle4" Root_node_2 = "EMP_mage_weapon_rifle_right_entity" }

    state = { 
    name = "death" animation = "death"
    event = { time = 0 node="head" particle = "blood_particle" keep_particle = yes }
    }
}

entity = {
    name = "EMP_mage_weapon_rifle_left_entity"
    pdxmesh = "EMP_mage_weapon_rifle_mesh"
    scale = 1

    get_state_from_parent = yes
    default_state = "idle"
    state = { name = "idle" }
    state = { name = "move" }

    state = { 
    name = "attack" animation = "attack"
    event = { time = 1.15 node = "muzzle" particle = "rifle_muzzle_particle" keep_particle = yes light = "muzzle_flash" sound = { soundeffect = infantry_rifle_attack } }
    event = { time = 2.2 node = "cartridge" particle = "rifle_cartridge_particle" keep_particle = yes sound = { soundeffect =infantry_rifle_cartridge } }
    }

    state = { 
	name = "defend"
	event = { time = 0 node="muzzle" particle = "rifle_muzzle_particle"  keep_particle = yes light = "muzzle_flash" sound = { soundeffect = infantry_rifle_attack } } 
	event = { time = 1.2 node="cartridge" particle = "rifle_cartridge_particle"  keep_particle = yes sound = { soundeffect = infantry_rifle_cartridge } }
	}

    state = { 
	name = "support_attack"	animation = "support_attack" 
	event = { time = 0 node="muzzle"  particle = "rifle_muzzle_particle"  keep_particle = yes light = "muzzle_flash" sound = { soundeffect = infantry_rifle_attack } }
	event = { time = 1.2 node="cartridge" particle = "rifle_cartridge_particle"  keep_particle = yes sound = { soundeffect = infantry_rifle_cartridge } }
	}
}

entity = {
    name = "EMP_mage_weapon_rifle_right_entity"
    pdxmesh = "EMP_mage_weapon_rifle_mesh"
    scale = 1
}

entity =